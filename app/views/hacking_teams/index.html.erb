<% if @teams.present? %>
  <div class="teams" data-controller="filterable-teams">

    <div class="columns">
      <div class="column is-6">
        <div class="control has-icons-left">
          <input class="filter-input input search" type="text" placeholder="Filter" data-action="filterable-teams#filter"/>
          <span class="icon is-left">
            <%= lucide_icon 'search', size: 16 %>
          </span>
        </div>
      </div>

      <div class="column is-2 is-offset-4">
        <%= link_to "Create a new team", new_hacking_team_path, class: "button is-primary" if policy(HackingTeam).new? %>
      </div>
    </div>

    <div class="teams-list list">
      <% @teams.each do |team| %>
        <div class="team block" id="<%= dom_id team %>">
          <%= link_to team.name, team, class: class_names(name:true, "is-size-3" => true, "has-text-success" => @approved_applications.map(&:hacking_team_id).include?(team.id)) %>
          <div class="agenda">
            <%= team.decorate.formatted_agenda %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

<% else %>
  <p class="is-size-5">There are no teams yet. Maybe
    <%= link_to 'create your own', new_hacking_team_path %>?
  </p>
<% end %>
